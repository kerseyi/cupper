<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="canonical" href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/sort-table/">
    <link rel="apple-touch-icon" sizes="57x57" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://kerseyi.github.io/cupper-2/images/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="https://kerseyi.github.io/cupper-2/images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://kerseyi.github.io/cupper-2/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://kerseyi.github.io/cupper-2/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://kerseyi.github.io/cupper-2/images/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="https://kerseyi.github.io/cupper-2/images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://kerseyi.github.io/cupper-2/css/prism.css" media="none" onload="this.media='all';">
    <link rel="stylesheet" type="text/css" href="https://kerseyi.github.io/cupper-2/css/styles.css">
    <style id="inverter" media="none">
      html { filter: invert(100%) }
      * { background-color: inherit }
      img:not([src*=".svg"]), .colors, iframe, .demo-container { filter: invert(100%) }
    </style>
    <title>
      
        Interactive Tables | A11y Ref
      
    </title>
    

    <script src="https://kit.fontawesome.com/dd9a51c0f1.js" crossorigin="anonymous"></script>

  </head>
  <body>

    
      <a href="#main">skip to content</a>
    
    <svg style="display: none">
  <symbol id="bookmark" viewBox="0 0 40 50">
   <g transform="translate(2266 3206.2)">
    <path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/>
   </g>
  </symbol>

  <symbol id="w3c" viewBox="0 0 127.09899 67.763">
   <text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text>
   <text font-size="83" style="font-size:83px;font-weight:bold;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731l-19.968 67.386h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882 0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329 0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401 0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912h-3.327v-3.991l11.646-20.133h-14.062l-3.911 6.655h-2.493v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21 0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/>
  </symbol>

  <symbol id="tag" viewBox="0 0 177.16535 177.16535">
    <g transform="translate(0 -875.2)">
     <path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813 0 0 1 1.8443 2.247 10.813 10.813 0 0 1 -3.5174 14.872l-.0445.0275a10.813 10.813 0 0 1 -14.86 -3.5714 10.813 10.813 0 0 1 3.5563 -14.863 10.813 10.813 0 0 1 13.022 1.2884z"/>
    </g>
  </symbol>

  <symbol id="balloon" viewBox="0 0 141.73228 177.16535">
   <g transform="translate(0 -875.2)">
    <g>
     <path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/>
     <path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598 0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/>
     <path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691 0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/>
     <path style="fill:currentColor" d="m32.52 892.22c-.20090-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/>
     <path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/>
     <rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/>
    </g>
   </g>
  </symbol>

  <symbol id="info" viewBox="0 0 41.667 41.667">
   <g transform="translate(-37.035 -1004.6)">
    <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968 0 0 1 -23.037 13.709 18.968 18.968 0 0 1 -13.738 -23.019 18.968 18.968 0 0 1 23.001 -13.768 18.968 18.968 0 0 1 13.798 22.984"/>
    <g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)">
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/>
     <path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719 0 0 1 -2.8807 1.7142 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
   </g>
  </symbol>

  <symbol id="warning" viewBox="0 0 48.430474 41.646302">
    <g transform="translate(-1.1273 -1010.2)">
     <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/>
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/>
     <path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719 0 0 1 -2.8807 1.7143 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
  </symbol>

  <symbol id="menu" viewBox="0 0 50 50">
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/>
   </symbol>

   <symbol id="link" viewBox="0 0 50 50">
    <g transform="translate(0 -1002.4)">
     <g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)">
      <g>
       <path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65 0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886 0l128.64-128.64c11.816-11.831 11.816-31.066 0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887 0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64 0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zm-254.28 168.51-45.903 45.9c-11.845 11.846-31.064 11.817-42.881 0l-42.884-42.881c-11.845-11.821-11.845-31.041 0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884 0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65 0l-128.65 128.64c-35.538 35.545-35.538 93.146 0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65 0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/>
      </g>
     </g>
    </g>
  </symbol>

  <symbol id="doc" viewBox="0 0 35 45">
   <g transform="translate(-147.53 -539.83)">
    <path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354v-39.194z"/>
    <g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)">
     <path d="m220 252.36h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h200"/>
     <path d="m220 488.74h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path d="m220 331.15h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
    </g>
   </g>
 </symbol>

 <symbol id="tick" viewBox="0 0 177.16535 177.16535">
  <g transform="translate(0 -875.2)">
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/>
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/>
  </g>
 </symbol>
</svg>

    <div class="wrapper ">
        <header class="intro-and-nav" role="banner">
          <div>
            <div class="intro">
              <a class="logo" href="https://kerseyi.github.io/cupper-2/" aria-label="A11y Ref home page">
                <img src="https://kerseyi.github.io/cupper-2/images/logo.svg" alt="">
              </a>
              <p class="library-desc">
                A repository of accessible component code patterns, references, and educational materials.
                
                  <a class="print" href="https://kerseyi.github.io/cupper-2/print-version">
                    <svg viewBox="0 0 35 45" aria-hidden="true" focusable="false">
                      <use xlink:href="#doc"></use>
                    </svg>Print version
                 
               </a>
              </p>
              
            </div>
            
              <nav id="patterns-nav" class="patterns" role="navigation">
                <h2 class="vh">Main navigation</h2>
                <button id="menu-button" aria-expanded="false">
                  <svg viewBox="0 0 50 50" aria-hidden="true" focusable="false">
                    <use xlink:href="#menu"></use>
                  </svg>
                  Menu
                </button>
                
                
                  <ul id="patterns-list">
                    
                      <li class="pattern">
                        <a href="https://kerseyi.github.io/cupper-2/patterns/aria/" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">ARIA</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Code Patterns</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="https://kerseyi.github.io/cupper-2/patterns/reference/" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">References</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="https://kerseyi.github.io/cupper-2/patterns/w3c/" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">W3C Tools</span>
                        </a>
                      </li>
                    
                    
                      <li>
                        <h3>ARIA</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/aria/name/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Name</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/aria/roles/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Roles</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                      <li>
                        <h3>Code Patterns</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/expandable-sections/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Expandable Sections</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/tooltips/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Tooltips</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/accordion/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Accordion Menus</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/modal/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Pop ups and Modals</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/menus/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Menus</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/alerts/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Alerts</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/carousel/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Carousel</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/datepicker/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Datepicker</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/sort-table/" aria-current="page">
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Interactive Tables</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/skiplink/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Skip Links</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/code-patterns/tables/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Tables</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                      <li>
                        <h3>References</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/alttext/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Alternate Text, Text Descriptions, and Captions</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/dev_resources/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Dev Resources</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/color/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Graphics and Design</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/nav/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Navigation</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/notifications/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Notifications / Alerts</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/plugins/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Plugins and Apps</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/sr/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Screen Readers</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/reference/aria/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">What is ARIA</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                      <li>
                        <h3>W3C Tools</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/w3c/wcagquickref/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">WCAG 2.1</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="https://kerseyi.github.io/cupper-2/patterns/w3c/atag2/" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">ATAG 2.0</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                  </ul>
                
              </nav>
            
          </div>
        </header>
      <div class="main-and-footer">
        <div>
          
  <main id="main">
    <h1>
      <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
        <use xlink:href="#bookmark"></use>
      </svg>
      Interactive Tables
    </h1>
    
      <div class="tags">
        <strong aria-hidden="true">Tags: </strong>
        <ul aria-label="tags">
          
            <li>
              <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                <use xlink:href="#tag"></use>
              </svg>
              <a href="https://kerseyi.github.io/cupper-2/tags/table-grid-sorting">table, grid, sorting</a>
            </li>
          
        </ul>
      </div>
    
    
      

  <nav class="toc" aria-labelledby="toc-heading">
    <h2 id="toc-heading">Table of contents</h2>
    <ol>
      
        <li>
          <a href="#wcag-criteria">
            WCAG Criteria
          </a>
        </li>
      
        <li>
          <a href="#example-1-sortable-data-grid-w-%2f-editable-cells">
            Example 1: Sortable Data Grid w / Editable Cells
          </a>
        </li>
      
    </ol>
  </nav>


    
    <p>Interactive tables are powerful widgets that can provide many different layers of fucntionality. They provide a variety of different fucntions, which can be as simple as sorting rows or as complex as duplicating spreadsheet functions.</p>
<h2 id="wcag-criteria">WCAG Criteria</h2>




<ul class="wcag ">
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li>
        <strong><a href="https://www.w3.org/TR/WCAG21/#info-and-relationships">
          <svg class="wcag-icon" viewBox="0 0 127.09899 67.763" aria-hidden="true" focusable="false">
            <use xlink:href="#w3c"></use>
          </svg>
          1.3.1 Info and Relationships</a> (level A)
        </strong>
        
      </li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li>
        <strong><a href="https://www.w3.org/TR/WCAG20/#ensure-compat-parses">
          <svg class="wcag-icon" viewBox="0 0 127.09899 67.763" aria-hidden="true" focusable="false">
            <use xlink:href="#w3c"></use>
          </svg>
          4.1.1 Parsing</a> (level A)
        </strong>
        
      </li>
    
  
    
      <li>
        <strong><a href="https://www.w3.org/TR/WCAG20/#ensure-compat-rsv">
          <svg class="wcag-icon" viewBox="0 0 127.09899 67.763" aria-hidden="true" focusable="false">
            <use xlink:href="#w3c"></use>
          </svg>
          4.1.2 Name, Role, Value</a> (level A)
        </strong>
        
      </li>
    
  
</ul>

<h2 id="example-1-sortable-data-grid-w--editable-cells">Example 1: Sortable Data Grid w / Editable Cells</h2>
<h3 id="demo">Demo</h3>

<div class="demo-container">
  
      <div class="demo-inner" >
        <div class="demo" id="js-demo-d09bce4df9f6a224694b3565d41eea9f"></div>
        <button data-launch="js-demo-d09bce4df9f6a224694b3565d41eea9f">Launch <span aria-hidden="true">â†—</span></button>
      </div>
      
  
  <template id="template-d09bce4df9f6a224694b3565d41eea9f">
      

  <h4 id="grid2Label">
  Transactions January 1 through January 7
</h4>
<table role="grid"
       aria-labelledby="grid2Label"
       class="data">
  <tbody>
    <tr>
      <th aria-sort="ascending">
        <span tabindex="-1" role="button">
          Date
        </span>
      </th>
      <th tabindex="-1">
        Type
      </th>
      <th tabindex="-1">
        Description
      </th>
      <th tabindex="-1">
        Category
      </th>
      <th aria-sort="none">
        <span tabindex="-1" role="button">
          Amount
        </span>
      </th>
      <th tabindex="-1">
        Balance
      </th>
    </tr>
    <tr>
      <td tabindex="-1">
        01-Jan-16
      </td>
      <td tabindex="-1">
        Deposit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            Cash Deposit
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu1">
          Income
        </button>
        <ul role="menu" id="menu1">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $1,000,000.00
      </td>
      <td tabindex="-1">
        $1,000,000.00
      </td>
    </tr>
    <tr>
      <td tabindex="-1">
        02-Jan-16
      </td>
      <td tabindex="-1">
        Debit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            Down Town
            Grocery
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu2">
          Groceries
        </button>
        <ul role="menu" id="menu2">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $250.00
      </td>
      <td tabindex="-1">
        $999,750.00
      </td>
    </tr>
    <tr>
      <td tabindex="-1">
        03-Jan-16
      </td>
      <td tabindex="-1">
        Debit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            Hot Coffee
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu3">
          Dining Out
        </button>
        <ul role="menu" id="menu3">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $9.00
      </td>
      <td tabindex="-1">
        $999,741.00
      </td>
    </tr>
    <tr>
      <td tabindex="-1">
        04-Jan-16
      </td>
      <td tabindex="-1">
        Debit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            The Filling
            Station
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu4">
          Auto
        </button>
        <ul role="menu" id="menu4">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $88.00
      </td>
      <td tabindex="-1">
        $999,653.00
      </td>
    </tr>
    <tr>
      <td tabindex="-1">
        05-Jan-16
      </td>
      <td tabindex="-1">
        Debit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            Tinker's
            Hardware
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu5">
          Household
        </button>
        <ul role="menu" id="menu5">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $3,421.00
      </td>
      <td tabindex="-1">
        $996,232.00
      </td>
    </tr>
    <tr>
      <td tabindex="-1">
        06-Jan-16
      </td>
      <td tabindex="-1">
        Debit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            Cutey's Salon
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu6">
          Beauty
        </button>
        <ul role="menu" id="menu6">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $700.00
      </td>
      <td tabindex="-1">
        $995,532.00
      </td>
    </tr>
    <tr>
      <td tabindex="-1">
        07-Jan-16
      </td>
      <td tabindex="-1">
        Debit
      </td>
      <td>
        <div class="editable-text">
          <span class="edit-text-button"
                tabindex="-1"
                role="button">
            My Chocolate
            Shop
          </span>
          <input class="edit-text-input hidden"
                 tabindex="-1"
                 value="">
        </div>
      </td>
      <td class="menu-wrapper">
        <button tabindex="-1"
                aria-haspopup="true"
                aria-controls="menu7">
          Dining Out
        </button>
        <ul role="menu" id="menu7">
          <li role="menuitem">
            Income
          </li>
          <li role="menuitem">
            Groceries
          </li>
          <li role="menuitem">
            Dining Out
          </li>
          <li role="menuitem">
            Auto
          </li>
          <li role="menuitem">
            Household
          </li>
          <li role="menuitem">
            Beauty
          </li>
        </ul>
      </td>
      <td tabindex="-1">
        $41.00
      </td>
      <td tabindex="-1">
        $995,491.00
      </td>
    </tr>
  </tbody>
</table>
<style>
  .annotate {
  font-style: italic;
  color: #366ed4;
}

.hidden {
  display: none !important;
}

[role="button"] {
  cursor: pointer;
}

[aria-sort="ascending"] {
  position: relative;
}

[aria-sort="ascending"]::after {
  content: " ";
  border-bottom: 0.4em solid black;
  border-left: 0.4em solid transparent;
  border-right: 0.4em solid transparent;
  position: absolute;
  right: 1em;
  top: 0.8em;
}

[aria-sort="descending"] {
  position: relative;
}

[aria-sort="descending"]::after {
  content: " ";
  border-left: 0.4em solid transparent;
  border-right: 0.4em solid transparent;
  border-top: 0.4em solid black;
  position: absolute;
  right: 1em;
  top: 0.8em;
}

.edit-text-button {
  color: #360;
  display: block;
  position: relative;
}

.edit-text-button::after {
  background-image: url('../imgs/pencil-icon.png');
  background-position: center;
  background-repeat: no-repeat;
  background-size: 44px;
  content: ' ';
  height: 17px;
  opacity: 0.6;
  position: absolute;
  right: -24px;
  top: 0;
  width: 20px;
}

.edit-text-button:hover,
.edit-text-button:focus {
  color: black;
}

.edit-text-button:hover::after,
.edit-text-button:focus::after {
  opacity: 1;
}

[role="gridcell"]:focus,
[role="gridcell"] *:focus,
[role="grid"] [tabindex="0"]:focus {
  outline: #005a9c;
  outline-style: dotted;
  outline-width: 3px;
}

#arrow-keys-indicator {
  bottom: 10px;
  left: 0;
  position: fixed;
  height: 65px;
  width: 85px;
  background: url('../imgs/black_keys.png') no-repeat;
  background-size: contain;
}

@media screen and (max-width: 1000px) {
  #arrow-keys-indicator {
    display: none;
  }
}
</style>
  <script>
/*
*   This content is licensed according to the W3C Software License at
*   https://www.w3.org/Consortium/Legal/2015/copyright-software-and-demo
*/

/**
 * @namespace aria
 */
var aria = aria || {};

/**
 * @desc
 *  Values for aria-sort
 */
aria.SortType = {
  ASCENDING: 'ascending',
  DESCENDING: 'descending',
  NONE: 'none'
};

/**
 * @desc
 *  DOM Selectors to find the grid components
 */
aria.GridSelector = {
  ROW: 'tr, [role="row"]',
  CELL: 'th, td, [role="gridcell"]',
  SCROLL_ROW: 'tr:not([data-fixed]), [role="row"]',
  SORT_HEADER: 'th[aria-sort]',
  TABBABLE: '[tabindex="0"]'
};

/**
 * @desc
 *  CSS Class names
 */
aria.CSSClass = {
  HIDDEN: 'hidden'
};

/**
 * @constructor
 *
 * @desc
 *  Grid object representing the state and interactions for a grid widget
 *
 *  Assumptions:
 *  All focusable cells initially have tabindex="-1"
 *  Produces a fully filled in mxn grid (with no holes)
 *
 * @param gridNode
 *  The DOM node pointing to the grid
 */
aria.Grid = function (gridNode) {
  this.navigationDisabled = false;
  this.gridNode = gridNode;
  this.paginationEnabled = this.gridNode.hasAttribute('data-per-page');
  this.shouldWrapCols = this.gridNode.hasAttribute('data-wrap-cols');
  this.shouldWrapRows = this.gridNode.hasAttribute('data-wrap-rows');
  this.shouldRestructure = this.gridNode.hasAttribute('data-restructure');
  this.topIndex = 0;

  this.keysIndicator = demo.getElementById('arrow-keys-indicator');

  aria.Utils.bindMethods(this,
    'checkFocusChange', 'checkPageChange', 'checkRestructureGrid',
    'delegateButtonHandler', 'focusClickedCell', 'restructureGrid',
    'showKeysIndicator', 'hideKeysIndicator');
  this.setupFocusGrid();
  this.setFocusPointer(0, 0);

  if (this.paginationEnabled) {
    this.setupPagination();
  }
  else {
    this.perPage = this.grid.length;
  }

  this.registerEvents();
};

/**
 * @desc
 *  Creates a 2D array of the focusable cells in the grid.
 */
aria.Grid.prototype.setupFocusGrid = function () {
  this.grid = [];

  Array.prototype.forEach.call(
    this.gridNode.querySelectorAll(aria.GridSelector.ROW),
    (function (row) {
      var rowCells = [];

      Array.prototype.forEach.call(
        row.querySelectorAll(aria.GridSelector.CELL),
        (function (cell) {
          var focusableSelector = '[tabindex]';

          if (aria.Utils.matches(cell, focusableSelector)) {
            rowCells.push(cell);
          }
          else {
            var focusableCell = cell.querySelector(focusableSelector);

            if (focusableCell) {
              rowCells.push(focusableCell);
            }
          }
        }).bind(this)
      );

      if (rowCells.length) {
        this.grid.push(rowCells);
      }
    }).bind(this)
  );

  if (this.paginationEnabled) {
    this.setupIndices();
  }
};

/**
 * @desc
 *  If possible, set focus pointer to the cell with the specified coordinates
 *
 * @param row
 *  The index of the cell's row
 *
 * @param col
 *  The index of the cell's column
 *
 * @returns
 *  Returns whether or not the focus could be set on the cell.
 */
aria.Grid.prototype.setFocusPointer = function (row, col) {
  if (!this.isValidCell(row, col)) {
    return false;
  }

  if (this.isHidden(row, col)) {
    return false;
  }

  if (!isNaN(this.focusedRow) && !isNaN(this.focusedCol)) {
    this.grid[this.focusedRow][this.focusedCol].setAttribute('tabindex', -1);
  }

  this.grid[row][col]
    .removeEventListener('focus', this.showKeysIndicator);
  this.grid[row][col]
    .removeEventListener('blur', this.hideKeysIndicator);

  // Disable navigation if focused on an input
  this.navigationDisabled = aria.Utils.matches(this.grid[row][col], 'input');

  this.grid[row][col].setAttribute('tabindex', 0);
  this.focusedRow = row;
  this.focusedCol = col;

  this.grid[row][col]
    .addEventListener('focus', this.showKeysIndicator);
  this.grid[row][col]
    .addEventListener('blur', this.hideKeysIndicator);

  return true;
};

/**
 * @param row
 *  The index of the cell's row
 *
 * @param col
 *  The index of the cell's column
 *
 * @returns
 *  Returns whether or not the coordinates are within the grid's boundaries.
 */
aria.Grid.prototype.isValidCell = function (row, col) {
  return (
    !isNaN(row) &&
    !isNaN(col) &&
    row >= 0 &&
    col >= 0 &&
    this.grid &&
    this.grid.length &&
    row < this.grid.length &&
    col < this.grid[row].length
  );
};

/**
 * @param row
 *  The index of the cell's row
 *
 * @param col
 *  The index of the cell's column
 *
 * @returns
 *  Returns whether or not the cell has been hidden.
 */
aria.Grid.prototype.isHidden = function (row, col) {
  var cell = this.gridNode.querySelectorAll(aria.GridSelector.ROW)[row]
    .querySelectorAll(aria.GridSelector.CELL)[col];
  return aria.Utils.hasClass(cell, aria.CSSClass.HIDDEN);
};

/**
 * @desc
 *  Clean up grid events
 */
aria.Grid.prototype.clearEvents = function () {
  this.gridNode.removeEventListener('keydown', this.checkFocusChange);
  this.gridNode.removeEventListener('keydown', this.delegateButtonHandler);
  this.gridNode.removeEventListener('click', this.focusClickedCell);
  this.gridNode.removeEventListener('click', this.delegateButtonHandler);

  if (this.paginationEnabled) {
    this.gridNode.removeEventListener('keydown', this.checkPageChange);
  }

  if (this.shouldRestructure) {
    window.removeEventListener('resize', this.checkRestructureGrid);
  }

  this.grid[this.focusedRow][this.focusedCol]
    .removeEventListener('focus', this.showKeysIndicator);
  this.grid[this.focusedRow][this.focusedCol]
    .removeEventListener('blur', this.hideKeysIndicator);
};

/**
 * @desc
 *  Register grid events
 */
aria.Grid.prototype.registerEvents = function () {
  this.clearEvents();

  this.gridNode.addEventListener('keydown', this.checkFocusChange);
  this.gridNode.addEventListener('keydown', this.delegateButtonHandler);
  this.gridNode.addEventListener('click', this.focusClickedCell);
  this.gridNode.addEventListener('click', this.delegateButtonHandler);

  if (this.paginationEnabled) {
    this.gridNode.addEventListener('keydown', this.checkPageChange);
  }

  if (this.shouldRestructure) {
    window.addEventListener('resize', this.checkRestructureGrid);
  }
};

/**
 * @desc
 *  Focus on the cell in the specified row and column
 *
 * @param row
 *  The index of the cell's row
 *
 * @param col
 *  The index of the cell's column
 */
aria.Grid.prototype.focusCell = function (row, col) {
  if (this.setFocusPointer(row, col)) {
    this.grid[row][col].focus();
  }
};

aria.Grid.prototype.showKeysIndicator = function () {
  if (this.keysIndicator) {
    aria.Utils.removeClass(this.keysIndicator, 'hidden');
  }
};

aria.Grid.prototype.hideKeysIndicator = function () {
  if (this.keysIndicator &&
      this.grid[this.focusedRow][this.focusedCol].tabIndex === 0) {
    aria.Utils.addClass(this.keysIndicator, 'hidden');
  }
};

/**
 * @desc
 *  Triggered on keydown. Checks if an arrow key was pressed, and (if possible)
 *  moves focus to the next valid cell in the direction of the arrow key.
 *
 * @param event
 *  Keydown event
 */
aria.Grid.prototype.checkFocusChange = function (event) {
  if (!event || this.navigationDisabled) {
    return;
  }

  this.findFocusedItem(event.target);

  var key = event.which || event.keyCode;
  var rowCaret = this.focusedRow;
  var colCaret = this.focusedCol;
  var nextCell;

  switch (key) {
    case aria.KeyCode.UP:
      nextCell = this.getNextVisibleCell(0, -1);
      rowCaret = nextCell.row;
      colCaret = nextCell.col;
      break;
    case aria.KeyCode.DOWN:
      nextCell = this.getNextVisibleCell(0, 1);
      rowCaret = nextCell.row;
      colCaret = nextCell.col;
      break;
    case aria.KeyCode.LEFT:
      nextCell = this.getNextVisibleCell(-1, 0);
      rowCaret = nextCell.row;
      colCaret = nextCell.col;
      break;
    case aria.KeyCode.RIGHT:
      nextCell = this.getNextVisibleCell(1, 0);
      rowCaret = nextCell.row;
      colCaret = nextCell.col;
      break;
    case aria.KeyCode.HOME:
      if (event.ctrlKey) {
        rowCaret = 0;
      }
      colCaret = 0;
      break;
    case aria.KeyCode.END:
      if (event.ctrlKey) {
        rowCaret = this.grid.length - 1;
      }
      colCaret = this.grid[this.focusedRow].length - 1;
      break;
    default:
      return;
  }

  if (this.paginationEnabled) {
    if (rowCaret < this.topIndex) {
      this.showFromRow(rowCaret, true);
    }

    if (rowCaret >= this.topIndex + this.perPage) {
      this.showFromRow(rowCaret, false);
    }
  }

  this.focusCell(rowCaret, colCaret);
  event.preventDefault();
};

/**
 * @desc
 *  Reset focused row and col if it doesn't match focusedRow and focusedCol
 *
 * @param focusedTarget
 *  Element that is currently focused by browser
 */
aria.Grid.prototype.findFocusedItem = function (focusedTarget) {
  var focusedCell = this.grid[this.focusedRow][this.focusedCol];

  if (focusedCell === focusedTarget ||
      focusedCell.contains(focusedTarget)) {
    return;
  }

  for (var i = 0; i < this.grid.length; i++) {
    for (var j = 0; j < this.grid[i].length; j++) {
      if (this.grid[i][j] === focusedTarget ||
          this.grid[i][j].contains(focusedTarget)) {
        this.setFocusPointer(i, j);
        return;
      }
    }
  }
};

/**
 * @desc
 *  Triggered on click. Finds the cell that was clicked on and focuses on it.
 *
 * @param event
 *  Keydown event
 */
aria.Grid.prototype.focusClickedCell = function (event) {
  var clickedGridCell = this.findClosest(event.target, '[tabindex]');

  for (var row = 0; row < this.grid.length; row++) {
    for (var col = 0; col < this.grid[row].length; col++) {
      if (this.grid[row][col] === clickedGridCell) {
        this.setFocusPointer(row, col);

        if (!aria.Utils.matches(clickedGridCell, 'button[aria-haspopup]')) {
          // Don't focus if it's a menu button (focus should be set to menu)
          this.focusCell(row, col);
        }

        return;
      }
    }
  }
};

/**
 * @desc
 *  Triggered on click. Checks if user clicked on a header with aria-sort.
 *  If so, it sorts the column based on the aria-sort attribute.
 *
 * @param event
 *  Keydown event
 */
aria.Grid.prototype.delegateButtonHandler = function (event) {
  var key = event.which || event.keyCode;
  var target = event.target;
  var isClickEvent = (event.type === 'click');

  if (!target) {
    return;
  }

  if (
    target.parentNode &&
    target.parentNode.matches('th[aria-sort]') &&
    (
      isClickEvent ||
      key === aria.KeyCode.SPACE ||
      key === aria.KeyCode.RETURN
    )
  ) {
    event.preventDefault();
    this.handleSort(target.parentNode);
  }

  if (
    aria.Utils.matches(target, '.editable-text, .edit-text-button') &&
    (
      isClickEvent ||
      key === aria.KeyCode.RETURN
    )
  ) {
    event.preventDefault();
    this.toggleEditMode(
      this.findClosest(target, '.editable-text'),
      true,
      true
    );
  }

  if (
    aria.Utils.matches(target, '.edit-text-input') &&
    (
      key === aria.KeyCode.RETURN ||
      key === aria.KeyCode.ESC
    )
  ) {
    event.preventDefault();
    this.toggleEditMode(
      this.findClosest(target, '.editable-text'),
      false,
      key === aria.KeyCode.RETURN
    );
  }
};

/**
 * @desc
 *  Toggles the mode of an editable cell between displaying the edit button
 *  and displaying the editable input.
 *
 * @param editCell
 *  Cell to toggle
 *
 * @param toggleOn
 *  Whether to show or hide edit input
 *
 * @param updateText
 *  Whether or not to update the button text with the input text
 */
aria.Grid.prototype.toggleEditMode = function (editCell, toggleOn, updateText) {
  var onClassName = toggleOn ? 'edit-text-input' : 'edit-text-button';
  var offClassName = toggleOn ? 'edit-text-button' : 'edit-text-input';
  var onNode = editCell.querySelector('.' + onClassName);
  var offNode = editCell.querySelector('.' + offClassName);

  if (toggleOn) {
    onNode.value = offNode.innerText;
  }
  else if (updateText) {
    onNode.innerText = offNode.value;
  }

  aria.Utils.addClass(offNode, aria.CSSClass.HIDDEN);
  aria.Utils.removeClass(onNode, aria.CSSClass.HIDDEN);
  offNode.setAttribute('tabindex', -1);
  onNode.setAttribute('tabindex', 0);
  onNode.focus();
  this.grid[this.focusedRow][this.focusedCol] = onNode;
  this.navigationDisabled = toggleOn;
};

/**
 * @desc
 *  Sorts the column below the header node, based on the aria-sort attribute.
 *  aria-sort="none" => aria-sort="ascending"
 *  aria-sort="ascending" => aria-sort="descending"
 *  All other headers with aria-sort are reset to "none"
 *
 *  Note: This implementation assumes that there is no pagination on the grid.
 *
 * @param headerNode
 *  Header DOM node
 */
aria.Grid.prototype.handleSort = function (headerNode) {
  var columnIndex = headerNode.cellIndex;
  var sortType = headerNode.getAttribute('aria-sort');

  if (sortType === aria.SortType.ASCENDING) {
    sortType = aria.SortType.DESCENDING;
  }
  else {
    sortType = aria.SortType.ASCENDING;
  }

  var comparator = function (row1, row2) {
    var row1Text = row1.children[columnIndex].innerText;
    var row2Text = row2.children[columnIndex].innerText;
    var row1Value = parseInt(row1Text.replace(/[^0-9\.]+/g, ''));
    var row2Value = parseInt(row2Text.replace(/[^0-9\.]+/g, ''));

    if (sortType === aria.SortType.ASCENDING) {
      return row1Value - row2Value;
    }
    else {
      return row2Value - row1Value;
    }
  };

  this.sortRows(comparator);
  this.setupFocusGrid();

  Array.prototype.forEach.call(
    this.gridNode.querySelectorAll(aria.GridSelector.SORT_HEADER),
    function (headerCell) {
      headerCell.setAttribute('aria-sort', aria.SortType.NONE);
    }
  );

  headerNode.setAttribute('aria-sort', sortType);
};

/**
 * @desc
 *  Sorts the grid's rows according to the specified compareFn
 *
 * @param compareFn
 *  Comparison function to sort the rows
 */
aria.Grid.prototype.sortRows = function (compareFn) {
  var rows = this.gridNode.querySelectorAll(aria.GridSelector.ROW);
  var rowWrapper = rows[0].parentNode;
  var dataRows = Array.prototype.slice.call(rows, 1);

  dataRows.sort(compareFn);

  dataRows.forEach((function (row) {
    rowWrapper.appendChild(row);
  }).bind(this));
};

/**
 * @desc
 *  Adds aria-rowindex and aria-colindex to the cells in the grid
 */
aria.Grid.prototype.setupIndices = function () {
  var rows = this.gridNode.querySelectorAll(aria.GridSelector.ROW);

  for (var row = 0; row < rows.length; row++) {
    var cols = rows[row].querySelectorAll(aria.GridSelector.CELL);
    rows[row].setAttribute('aria-rowindex', row + 1);

    for (var col = 0; col < cols.length; col++) {
      cols[col].setAttribute('aria-colindex', col + 1);
    }

  }
};

/**
 * @desc
 *  Determines the per page attribute of the grid, and shows/hides rows
 *  accordingly.
 */
aria.Grid.prototype.setupPagination = function () {
  this.onPaginationChange = this.onPaginationChange || function () {};
  this.perPage = parseInt(this.gridNode.getAttribute('data-per-page'));
  this.showFromRow(0, true);
};

aria.Grid.prototype.setPaginationChangeHandler = function (onPaginationChange) {
  this.onPaginationChange = onPaginationChange;
};

/**
 * @desc
 *  Check if page up or page down was pressed, and show the next page if so.
 *
 * @param event
 *  Keydown event
 */
aria.Grid.prototype.checkPageChange = function (event) {
  if (!event) {
    return;
  }

  var key = event.which || event.keyCode;

  if (key === aria.KeyCode.PAGE_UP) {
    event.preventDefault();
    this.movePageUp();
  }
  else if (key === aria.KeyCode.PAGE_DOWN) {
    event.preventDefault();
    this.movePageDown();
  }
};

aria.Grid.prototype.movePageUp = function () {
  var startIndex = Math.max(this.perPage - 1, this.topIndex - 1);
  this.showFromRow(startIndex, false);
  this.focusCell(startIndex, this.focusedCol);
};

aria.Grid.prototype.movePageDown = function () {
  var startIndex = this.topIndex + this.perPage;
  this.showFromRow(startIndex, true);
  this.focusCell(startIndex, this.focusedCol);
};

/**
 * @desc
 *  Scroll the specified row into view in the specified direction
 *
 * @param startIndex
 *  Row index to use as the start index
 *
 * @param scrollDown
 *  Whether to scroll the new page above or below the row index
 */
aria.Grid.prototype.showFromRow = function (startIndex, scrollDown) {
  var dataRows =
    this.gridNode.querySelectorAll(aria.GridSelector.SCROLL_ROW);
  var reachedTop = false;
  var firstIndex = -1;
  var endIndex = -1;

  if (startIndex < 0 || startIndex >= dataRows.length) {
    return;
  }

  for (var i = 0; i < dataRows.length; i++) {

    if (
      (
        scrollDown &&
        i >= startIndex &&
        i < startIndex + this.perPage) ||
        (
          !scrollDown &&
          i <= startIndex &&
          i > startIndex - this.perPage
        )
    ) {
      aria.Utils.removeClass(dataRows[i], aria.CSSClass.HIDDEN);

      if (!reachedTop) {
        this.topIndex = i;
        reachedTop = true;
      }

      if (firstIndex < 0) {
        firstIndex = i;
      }
      endIndex = i;
    }
    else {
      aria.Utils.addClass(dataRows[i], aria.CSSClass.HIDDEN);
    }
  }
  this.onPaginationChange(firstIndex, endIndex);
};

/**
 * @desc
 *  Throttle restructuring to only happen every 300ms
 */
aria.Grid.prototype.checkRestructureGrid = function () {
  if (this.waitingToRestructure) {
    return;
  }

  this.waitingToRestructure = true;

  setTimeout(this.restructureGrid, 300);
};

/**
 * @desc
 *  Restructure grid based on the size.
 */
aria.Grid.prototype.restructureGrid = function () {
  this.waitingToRestructure = false;

  var gridWidth = this.gridNode.offsetWidth;
  var cells = this.gridNode.querySelectorAll(aria.GridSelector.CELL);
  var currentWidth = 0;

  var focusedElement = this.gridNode.querySelector(aria.GridSelector.TABBABLE);
  var shouldRefocus = (demo.activeElement === focusedElement);
  var focusedIndex = (this.focusedRow * this.grid[0].length + this.focusedCol);

  var newRow = demo.createElement('div');
  newRow.setAttribute('role', 'row');
  this.gridNode.innerHTML = '';
  this.gridNode.append(newRow);

  cells.forEach(function (cell, index) {
    var cellWidth = cell.offsetWidth;

    if (currentWidth > 0 && currentWidth >= (gridWidth - cellWidth)) {
      newRow = demo.createElement('div');
      newRow.setAttribute('role', 'row');
      this.gridNode.append(newRow);
      currentWidth = 0;
    }

    newRow.append(cell);
    currentWidth += cellWidth;
  });

  this.setupFocusGrid();

  this.focusedRow = Math.floor(focusedIndex / this.grid[0].length);
  this.focusedCol = focusedIndex % this.grid[0].length;

  if (shouldRefocus) {
    this.focusCell(this.focusedRow, this.focusedCol);
  }
};

/**
 * @desc
 *  Get next cell to the right or left (direction) of the focused
 *  cell.
 *
 * @param currRow
 *  Row index to start searching from
 *
 * @param currCol
 *  Column index to start searching from
 *
 * @param directionX
 *  X direction for where to check for cells. +1 to check to the right, -1 to
 *  check to the left
 *
 * @return
 *  Indices of the next cell in the specified direction. Returns the focused
 *  cell if none are found.
 */
aria.Grid.prototype.getNextCell = function (
  currRow,
  currCol,
  directionX,
  directionY
) {
  var row = currRow + directionY;
  var col = currCol + directionX;
  var rowCount = this.grid.length;
  var isLeftRight = directionX !== 0;

  if (!rowCount) {
    return false;
  }

  var colCount = this.grid[0].length;

  if (this.shouldWrapCols && isLeftRight) {
    if (col < 0) {
      col = colCount - 1;
      row--;
    }

    if (col >= colCount) {
      col = 0;
      row++;
    }
  }

  if (this.shouldWrapRows && !isLeftRight) {
    if (row < 0) {
      col--;
      row = rowCount - 1;
      if (this.grid[row] && col >= 0 && !this.grid[row][col]) {
        // Sometimes the bottom row is not completely filled in. In this case,
        // jump to the next filled in cell.
        row--;
      }
    }
    else if (row >= rowCount || !this.grid[row][col]) {
      row = 0;
      col++;
    }
  }

  if (this.isValidCell(row, col)) {
    return {
      row: row,
      col: col
    };
  }
  else if (this.isValidCell(currRow, currCol)) {
    return {
      row: currRow,
      col: currCol
    };
  }
  else {
    return false;
  }
};

/**
 * @desc
 *  Get next visible column to the right or left (direction) of the focused
 *  cell.
 *
 * @param direction
 *  Direction for where to check for cells. +1 to check to the right, -1 to
 *  check to the left
 *
 * @return
 *  Indices of the next visible cell in the specified direction. If no visible
 *  cells are found, returns false if the current cell is hidden and returns
 *  the current cell if it is not hidden.
 */
aria.Grid.prototype.getNextVisibleCell = function (directionX, directionY) {
  var nextCell = this.getNextCell(
    this.focusedRow,
    this.focusedCol,
    directionX,
    directionY
  );

  if (!nextCell) {
    return false;
  }

  var rowCount = this.grid.length;
  var colCount = this.grid[nextCell.row].length;

  while (this.isHidden(nextCell.row, nextCell.col)) {
    var currRow = nextCell.row;
    var currCol = nextCell.col;

    nextCell = this.getNextCell(currRow, currCol, directionX, directionY);

    if (currRow === nextCell.row && currCol === nextCell.col) {
      // There are no more cells to try if getNextCell returns the current cell
      return false;
    }
  }

  return nextCell;
};

/**
 * @desc
 *  Show or hide the cells in the specified column
 *
 * @param columnIndex
 *  Index of the column to toggle
 *
 * @param isShown
 *  Whether or not to show the column
 */
aria.Grid.prototype.toggleColumn = function (columnIndex, isShown) {
  var cellSelector = '[aria-colindex="' + columnIndex + '"]';
  var columnCells = this.gridNode.querySelectorAll(cellSelector);

  Array.prototype.forEach.call(
    columnCells,
    function (cell) {
      if (isShown) {
        aria.Utils.removeClass(cell, aria.CSSClass.HIDDEN);
      }
      else {
        aria.Utils.addClass(cell, aria.CSSClass.HIDDEN);
      }
    }
  );

  if (!isShown && this.focusedCol === (columnIndex - 1)) {
    // If focus was set on the hidden column, shift focus to the right
    var nextCell = this.getNextVisibleCell(1, 0);
    if (nextCell) {
      this.setFocusPointer(nextCell.row, nextCell.col);
    }
  }
};

/**
 * @desc
 *  Find the closest element matching the selector. Only checks parent and
 *  direct children.
 *
 * @param element
 *  Element to start searching from
 *
 * @param selector
 *  Index of the column to toggle
 */
aria.Grid.prototype.findClosest = function (element, selector) {
  if (aria.Utils.matches(element, selector)) {
    return element;
  }

  if (aria.Utils.matches(element.parentNode, selector)) {
    return element.parentNode;
  }

  return element.querySelector(selector);
};
  </script>


  </template>
  <script>
    (function() {
      var root = document.getElementById('js-demo-d09bce4df9f6a224694b3565d41eea9f');
      var template = document.getElementById('template-d09bce4df9f6a224694b3565d41eea9f');

      
      var demoDiv = document.createElement('div');
      demoDiv.innerHTML = template.innerHTML;
      var standaloneScript = demoDiv.querySelector('script');
      if (standaloneScript) {
        standaloneScript.textContent = '(function() { document.getElementsByTagName(\'html\')[0].setAttribute(\'lang\', \'en\'); var demo = document; ' + standaloneScript.textContent + ' })();';
      }

      if (document.head.attachShadow) {
        var templateScript = template.content.querySelector('script');
        if (templateScript) {
          var wrappedScript = '(function() { var demo = document.getElementById(\'js-demo-d09bce4df9f6a224694b3565d41eea9f\').shadowRoot;' + templateScript.textContent + '})();';
          templateScript.textContent = wrappedScript;
        }
        root.attachShadow({mode: 'open'});
        root.shadowRoot.appendChild(document.importNode(template.content, true));
      } else {
        root.innerHTML = '<p class="site-error"><strong style="font-weight:bold">Site error:</strong> A browser supporting Shadow DOM is needed to run encapsulated demos. You can launch the demo in a separate window â†“</p>';
      }

      var launchButton = document.querySelector('[data-launch="js-demo-d09bce4df9f6a224694b3565d41eea9f"]');
      launchButton.addEventListener('click', function () {
        var standalone = window.open();
        standalone.document.body.innerHTML = demoDiv.innerHTML;

        
        var newScript = standalone.document.createElement('script');
        var oldScript = standalone.document.querySelector('script');
        if (oldScript) {
          newScript.textContent = oldScript.textContent;
          oldScript.parentNode.removeChild(oldScript);
          standalone.document.body.appendChild(newScript);
        }
        

        standalone.document.title = 'demo ' + "d09bce4df9f6a224694b3565d41eea9f";
      });
    })();
  </script>
</div>

<h3 id="code">Code</h3>
<p><div class="expandable-section">
  
    <h1>
  
    <button aria-expanded="false" data-expands="js-expandable-9f2e06ae577874470065a64acd332a4c">
      <span class="expandable-label">HTML</span>
      <svg aria-hidden="true" focusable="false" viewBox="0 0 70.866142 70.866141">
        <g transform="translate(0 -981.5)">
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="60" width="9.8985" y="987.36" x="30.051" class="up-strut" />
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="10" width="60" y="1012.4" x="5"/>
        </g>
      </svg>
    </button>
  
    </h1>
  
  <div id="js-expandable-9f2e06ae577874470065a64acd332a4c" hidden>
    



<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-HTML" data-lang="HTML">&lt;<span style="color:#f92672">h4</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grid2Label&#34;</span>&gt;
  Transactions January 1 through January 7
&lt;/<span style="color:#f92672">h4</span>&gt;
&lt;<span style="color:#f92672">table</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grid&#34;</span>
       <span style="color:#a6e22e">aria-labelledby</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grid2Label&#34;</span>
       <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;data&#34;</span>&gt;
  &lt;<span style="color:#f92672">tbody</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">th</span> <span style="color:#a6e22e">aria-sort</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ascending&#34;</span>&gt;
        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
          Date
        &lt;/<span style="color:#f92672">span</span>&gt;
      &lt;/<span style="color:#f92672">th</span>&gt;
      &lt;<span style="color:#f92672">th</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Type
      &lt;/<span style="color:#f92672">th</span>&gt;
      &lt;<span style="color:#f92672">th</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Description
      &lt;/<span style="color:#f92672">th</span>&gt;
      &lt;<span style="color:#f92672">th</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Category
      &lt;/<span style="color:#f92672">th</span>&gt;
      &lt;<span style="color:#f92672">th</span> <span style="color:#a6e22e">aria-sort</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;none&#34;</span>&gt;
        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
          Amount
        &lt;/<span style="color:#f92672">span</span>&gt;
      &lt;/<span style="color:#f92672">th</span>&gt;
      &lt;<span style="color:#f92672">th</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Balance
      &lt;/<span style="color:#f92672">th</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        01-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Deposit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            Cash Deposit
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu1&#34;</span>&gt;
          Income
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu1&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $1,000,000.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $1,000,000.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        02-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Debit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            Down Town
            Grocery
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu2&#34;</span>&gt;
          Groceries
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu2&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $250.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $999,750.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        03-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Debit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            Hot Coffee
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu3&#34;</span>&gt;
          Dining Out
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu3&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $9.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $999,741.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        04-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Debit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            The Filling
            Station
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu4&#34;</span>&gt;
          Auto
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu4&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $88.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $999,653.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        05-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Debit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            Tinker&#39;s
            Hardware
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu5&#34;</span>&gt;
          Household
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu5&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $3,421.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $996,232.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        06-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Debit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            Cutey&#39;s Salon
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu6&#34;</span>&gt;
          Beauty
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu6&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $700.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $995,532.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
    &lt;<span style="color:#f92672">tr</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        07-Jan-16
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        Debit
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editable-text&#34;</span>&gt;
          &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-button&#34;</span>
                <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;
            My Chocolate
            Shop
          &lt;/<span style="color:#f92672">span</span>&gt;
          &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;edit-text-input hidden&#34;</span>
                 <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                 <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu-wrapper&#34;</span>&gt;
        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>
                <span style="color:#a6e22e">aria-haspopup</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
                <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu7&#34;</span>&gt;
          Dining Out
        &lt;/<span style="color:#f92672">button</span>&gt;
        &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menu7&#34;</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Income
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Groceries
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Dining Out
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Auto
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Household
          &lt;/<span style="color:#f92672">li</span>&gt;
          &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;menuitem&#34;</span>&gt;
            Beauty
          &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;/<span style="color:#f92672">ul</span>&gt;
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $41.00
      &lt;/<span style="color:#f92672">td</span>&gt;
      &lt;<span style="color:#f92672">td</span> <span style="color:#a6e22e">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-1&#34;</span>&gt;
        $995,491.00
      &lt;/<span style="color:#f92672">td</span>&gt;
    &lt;/<span style="color:#f92672">tr</span>&gt;
  &lt;/<span style="color:#f92672">tbody</span>&gt;
&lt;/<span style="color:#f92672">table</span>&gt;
</code></pre></div>


  </div>
</div>

<div class="expandable-section">
  
    <h2>
  
    <button aria-expanded="false" data-expands="js-expandable-45369872c337183196c48777173cb614">
      <span class="expandable-label">CSS</span>
      <svg aria-hidden="true" focusable="false" viewBox="0 0 70.866142 70.866141">
        <g transform="translate(0 -981.5)">
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="60" width="9.8985" y="987.36" x="30.051" class="up-strut" />
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="10" width="60" y="1012.4" x="5"/>
        </g>
      </svg>
    </button>
  
    </h2>
  
  <div id="js-expandable-45369872c337183196c48777173cb614" hidden>
    



<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSS" data-lang="CSS">.<span style="color:#a6e22e">annotate</span> {
  <span style="color:#66d9ef">font-style</span>: <span style="color:#66d9ef">italic</span>;
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#366ed4</span>;
}

.<span style="color:#a6e22e">hidden</span> {
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span> <span style="color:#75715e">!important</span>;
}

<span style="color:#f92672">[</span><span style="color:#f92672">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span><span style="color:#f92672">]</span> {
  <span style="color:#66d9ef">cursor</span>: <span style="color:#66d9ef">pointer</span>;
}

<span style="color:#f92672">[</span><span style="color:#f92672">aria-sort</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ascending&#34;</span><span style="color:#f92672">]</span> {
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
}

<span style="color:#f92672">[</span><span style="color:#f92672">aria-sort</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ascending&#34;</span><span style="color:#f92672">]</span>::<span style="color:#a6e22e">after</span> {
  <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34; &#34;</span>;
  <span style="color:#66d9ef">border-bottom</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">black</span>;
  <span style="color:#66d9ef">border-left</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">transparent</span>;
  <span style="color:#66d9ef">border-right</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">transparent</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0.8</span><span style="color:#66d9ef">em</span>;
}

<span style="color:#f92672">[</span><span style="color:#f92672">aria-sort</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;descending&#34;</span><span style="color:#f92672">]</span> {
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
}

<span style="color:#f92672">[</span><span style="color:#f92672">aria-sort</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;descending&#34;</span><span style="color:#f92672">]</span>::<span style="color:#a6e22e">after</span> {
  <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34; &#34;</span>;
  <span style="color:#66d9ef">border-left</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">transparent</span>;
  <span style="color:#66d9ef">border-right</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">transparent</span>;
  <span style="color:#66d9ef">border-top</span>: <span style="color:#ae81ff">0.4</span><span style="color:#66d9ef">em</span> <span style="color:#66d9ef">solid</span> <span style="color:#66d9ef">black</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0.8</span><span style="color:#66d9ef">em</span>;
}

.<span style="color:#a6e22e">edit-text-button</span> {
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#360</span>;
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
}

.<span style="color:#a6e22e">edit-text-button</span>::<span style="color:#a6e22e">after</span> {
  <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#39;../imgs/pencil-icon.png&#39;</span>);
  <span style="color:#66d9ef">background-position</span>: <span style="color:#66d9ef">center</span>;
  <span style="color:#66d9ef">background-repeat</span>: <span style="color:#66d9ef">no-repeat</span>;
  <span style="color:#66d9ef">background-size</span>: <span style="color:#ae81ff">44</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#39; &#39;</span>;
  <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">17</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0.6</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">-24</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
}

.<span style="color:#a6e22e">edit-text-button</span>:<span style="color:#a6e22e">hover</span><span style="color:#f92672">,</span>
.<span style="color:#a6e22e">edit-text-button</span>:<span style="color:#a6e22e">focus</span> {
  <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">black</span>;
}

.<span style="color:#a6e22e">edit-text-button</span>:<span style="color:#a6e22e">hover</span>::<span style="color:#a6e22e">after</span><span style="color:#f92672">,</span>
.<span style="color:#a6e22e">edit-text-button</span>:<span style="color:#a6e22e">focus</span>::<span style="color:#a6e22e">after</span> {
  <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">1</span>;
}

<span style="color:#f92672">[</span><span style="color:#f92672">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gridcell&#34;</span><span style="color:#f92672">]</span>:<span style="color:#a6e22e">focus</span><span style="color:#f92672">,</span>
<span style="color:#f92672">[</span><span style="color:#f92672">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gridcell&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">*</span>:<span style="color:#a6e22e">focus</span><span style="color:#f92672">,</span>
<span style="color:#f92672">[</span><span style="color:#f92672">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grid&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">[</span><span style="color:#f92672">tabindex</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span><span style="color:#f92672">]</span>:<span style="color:#a6e22e">focus</span> {
  <span style="color:#66d9ef">outline</span>: <span style="color:#ae81ff">#005a9c</span>;
  <span style="color:#66d9ef">outline-style</span>: <span style="color:#66d9ef">dotted</span>;
  <span style="color:#66d9ef">outline-width</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span>;
}

#arrow-keys-indicator {
  <span style="color:#66d9ef">bottom</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
  <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">65</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">85</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">background</span>: url(<span style="color:#e6db74">&#39;../imgs/black_keys.png&#39;</span>) <span style="color:#66d9ef">no-repeat</span>;
  <span style="color:#66d9ef">background-size</span>: <span style="color:#66d9ef">contain</span>;
}

@<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">1000px</span><span style="color:#f92672">)</span> {
  #arrow-keys-indicator {
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span>;
  }
}
</code></pre></div>


  </div>
</div>

<div class="expandable-section">
  
    <h3>
  
    <button aria-expanded="false" data-expands="js-expandable-7cfec05346ec79472a6f4d3afed0ccf0">
      <span class="expandable-label">JavaScript</span>
      <svg aria-hidden="true" focusable="false" viewBox="0 0 70.866142 70.866141">
        <g transform="translate(0 -981.5)">
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="60" width="9.8985" y="987.36" x="30.051" class="up-strut" />
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="10" width="60" y="1012.4" x="5"/>
        </g>
      </svg>
    </button>
  
    </h3>
  
  <div id="js-expandable-7cfec05346ec79472a6f4d3afed0ccf0" hidden>
    



<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JAVASCRIPT" data-lang="JAVASCRIPT"><span style="color:#75715e">/*
</span><span style="color:#75715e">*   This content is licensed according to the W3C Software License at
</span><span style="color:#75715e">*   https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @namespace aria
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aria</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">aria</span> <span style="color:#f92672">||</span> {};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Values for aria-sort
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">SortType</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">ASCENDING</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ascending&#39;</span>,
  <span style="color:#a6e22e">DESCENDING</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;descending&#39;</span>,
  <span style="color:#a6e22e">NONE</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;none&#39;</span>
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  DOM Selectors to find the grid components
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">ROW</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;tr, [role=&#34;row&#34;]&#39;</span>,
  <span style="color:#a6e22e">CELL</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;th, td, [role=&#34;gridcell&#34;]&#39;</span>,
  <span style="color:#a6e22e">SCROLL_ROW</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;tr:not([data-fixed]), [role=&#34;row&#34;]&#39;</span>,
  <span style="color:#a6e22e">SORT_HEADER</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;th[aria-sort]&#39;</span>,
  <span style="color:#a6e22e">TABBABLE</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;[tabindex=&#34;0&#34;]&#39;</span>
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  CSS Class names
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">HIDDEN</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hidden&#39;</span>
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @constructor
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Grid object representing the state and interactions for a grid widget
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> *  Assumptions:
</span><span style="color:#75715e"> *  All focusable cells initially have tabindex=&#34;-1&#34;
</span><span style="color:#75715e"> *  Produces a fully filled in mxn grid (with no holes)
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param gridNode
</span><span style="color:#75715e"> *  The DOM node pointing to the grid
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">gridNode</span>) {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">navigationDisabled</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gridNode</span>;
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationEnabled</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">hasAttribute</span>(<span style="color:#e6db74">&#39;data-per-page&#39;</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldWrapCols</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">hasAttribute</span>(<span style="color:#e6db74">&#39;data-wrap-cols&#39;</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldWrapRows</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">hasAttribute</span>(<span style="color:#e6db74">&#39;data-wrap-rows&#39;</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldRestructure</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">hasAttribute</span>(<span style="color:#e6db74">&#39;data-restructure&#39;</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">topIndex</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">keysIndicator</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;arrow-keys-indicator&#39;</span>);

  <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">bindMethods</span>(<span style="color:#66d9ef">this</span>,
    <span style="color:#e6db74">&#39;checkFocusChange&#39;</span>, <span style="color:#e6db74">&#39;checkPageChange&#39;</span>, <span style="color:#e6db74">&#39;checkRestructureGrid&#39;</span>,
    <span style="color:#e6db74">&#39;delegateButtonHandler&#39;</span>, <span style="color:#e6db74">&#39;focusClickedCell&#39;</span>, <span style="color:#e6db74">&#39;restructureGrid&#39;</span>,
    <span style="color:#e6db74">&#39;showKeysIndicator&#39;</span>, <span style="color:#e6db74">&#39;hideKeysIndicator&#39;</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setupFocusGrid</span>();
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setFocusPointer</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationEnabled</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setupPagination</span>();
  }
  <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span>;
  }

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">registerEvents</span>();
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Creates a 2D array of the focusable cells in the grid.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">setupFocusGrid</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span> <span style="color:#f92672">=</span> [];

  Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">forEach</span>.<span style="color:#a6e22e">call</span>(
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">ROW</span>),
    (<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rowCells</span> <span style="color:#f92672">=</span> [];

      Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">forEach</span>.<span style="color:#a6e22e">call</span>(
        <span style="color:#a6e22e">row</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">CELL</span>),
        (<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">cell</span>) {
          <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">focusableSelector</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[tabindex]&#39;</span>;

          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#a6e22e">cell</span>, <span style="color:#a6e22e">focusableSelector</span>)) {
            <span style="color:#a6e22e">rowCells</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">cell</span>);
          }
          <span style="color:#66d9ef">else</span> {
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">focusableCell</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cell</span>.<span style="color:#a6e22e">querySelector</span>(<span style="color:#a6e22e">focusableSelector</span>);

            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">focusableCell</span>) {
              <span style="color:#a6e22e">rowCells</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">focusableCell</span>);
            }
          }
        }).<span style="color:#a6e22e">bind</span>(<span style="color:#66d9ef">this</span>)
      );

      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">rowCells</span>.<span style="color:#a6e22e">length</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">rowCells</span>);
      }
    }).<span style="color:#a6e22e">bind</span>(<span style="color:#66d9ef">this</span>)
  );

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationEnabled</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setupIndices</span>();
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  If possible, set focus pointer to the cell with the specified coordinates
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param row
</span><span style="color:#75715e"> *  The index of the cell&#39;s row
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param col
</span><span style="color:#75715e"> *  The index of the cell&#39;s column
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @returns
</span><span style="color:#75715e"> *  Returns whether or not the focus could be set on the cell.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">setFocusPointer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isValidCell</span>(<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isHidden</span>(<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>isNaN(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>isNaN(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>)) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>][<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>].<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;tabindex&#39;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
  }

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>]
    .<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;focus&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showKeysIndicator</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>]
    .<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;blur&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">hideKeysIndicator</span>);

  <span style="color:#75715e">// Disable navigation if focused on an input
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">navigationDisabled</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>], <span style="color:#e6db74">&#39;input&#39;</span>);

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>].<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;tabindex&#39;</span>, <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">row</span>;
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">col</span>;

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>]
    .<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;focus&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showKeysIndicator</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>]
    .<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;blur&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">hideKeysIndicator</span>);

  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param row
</span><span style="color:#75715e"> *  The index of the cell&#39;s row
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param col
</span><span style="color:#75715e"> *  The index of the cell&#39;s column
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @returns
</span><span style="color:#75715e"> *  Returns whether or not the coordinates are within the grid&#39;s boundaries.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">isValidCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>) {
  <span style="color:#66d9ef">return</span> (
    <span style="color:#f92672">!</span>isNaN(<span style="color:#a6e22e">row</span>) <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#f92672">!</span>isNaN(<span style="color:#a6e22e">col</span>) <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">row</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">col</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span> <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">row</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">col</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>].<span style="color:#a6e22e">length</span>
  );
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param row
</span><span style="color:#75715e"> *  The index of the cell&#39;s row
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param col
</span><span style="color:#75715e"> *  The index of the cell&#39;s column
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @returns
</span><span style="color:#75715e"> *  Returns whether or not the cell has been hidden.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">isHidden</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">ROW</span>)[<span style="color:#a6e22e">row</span>]
    .<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">CELL</span>)[<span style="color:#a6e22e">col</span>];
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">hasClass</span>(<span style="color:#a6e22e">cell</span>, <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Clean up grid events
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">clearEvents</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">checkFocusChange</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">delegateButtonHandler</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusClickedCell</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">delegateButtonHandler</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationEnabled</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">checkPageChange</span>);
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldRestructure</span>) {
    window.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;resize&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">checkRestructureGrid</span>);
  }

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>][<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>]
    .<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;focus&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showKeysIndicator</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>][<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>]
    .<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;blur&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">hideKeysIndicator</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Register grid events
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">registerEvents</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">clearEvents</span>();

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">checkFocusChange</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">delegateButtonHandler</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusClickedCell</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">delegateButtonHandler</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationEnabled</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">checkPageChange</span>);
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldRestructure</span>) {
    window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;resize&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">checkRestructureGrid</span>);
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Focus on the cell in the specified row and column
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param row
</span><span style="color:#75715e"> *  The index of the cell&#39;s row
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param col
</span><span style="color:#75715e"> *  The index of the cell&#39;s column
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">focusCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setFocusPointer</span>(<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>)) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>].<span style="color:#a6e22e">focus</span>();
  }
};

<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">showKeysIndicator</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">keysIndicator</span>) {
    <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">removeClass</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">keysIndicator</span>, <span style="color:#e6db74">&#39;hidden&#39;</span>);
  }
};

<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">hideKeysIndicator</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">keysIndicator</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>][<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>].<span style="color:#a6e22e">tabIndex</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">addClass</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">keysIndicator</span>, <span style="color:#e6db74">&#39;hidden&#39;</span>);
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Triggered on keydown. Checks if an arrow key was pressed, and (if possible)
</span><span style="color:#75715e"> *  moves focus to the next valid cell in the direction of the arrow key.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param event
</span><span style="color:#75715e"> *  Keydown event
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">checkFocusChange</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">event</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">navigationDisabled</span>) {
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">findFocusedItem</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>);

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">which</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">keyCode</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">nextCell</span>;

  <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">key</span>) {
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">UP</span><span style="color:#f92672">:</span>
      <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextVisibleCell</span>(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
      <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>;
      <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>;
      <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">DOWN</span><span style="color:#f92672">:</span>
      <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextVisibleCell</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>);
      <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>;
      <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>;
      <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">LEFT</span><span style="color:#f92672">:</span>
      <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextVisibleCell</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
      <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>;
      <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>;
      <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">RIGHT</span><span style="color:#f92672">:</span>
      <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextVisibleCell</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
      <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>;
      <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>;
      <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">HOME</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">ctrlKey</span>) {
        <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
      }
      <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
      <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">END</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">ctrlKey</span>) {
        <span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
      }
      <span style="color:#a6e22e">colCaret</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
      <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">paginationEnabled</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">topIndex</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showFromRow</span>(<span style="color:#a6e22e">rowCaret</span>, <span style="color:#66d9ef">true</span>);
    }

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">rowCaret</span> <span style="color:#f92672">&gt;=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">topIndex</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showFromRow</span>(<span style="color:#a6e22e">rowCaret</span>, <span style="color:#66d9ef">false</span>);
    }
  }

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusCell</span>(<span style="color:#a6e22e">rowCaret</span>, <span style="color:#a6e22e">colCaret</span>);
  <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Reset focused row and col if it doesn&#39;t match focusedRow and focusedCol
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param focusedTarget
</span><span style="color:#75715e"> *  Element that is currently focused by browser
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">findFocusedItem</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">focusedTarget</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">focusedCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>][<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>];

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">focusedCell</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">focusedTarget</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">focusedCell</span>.<span style="color:#a6e22e">contains</span>(<span style="color:#a6e22e">focusedTarget</span>)) {
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">j</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">j</span><span style="color:#f92672">++</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>] <span style="color:#f92672">===</span> <span style="color:#a6e22e">focusedTarget</span> <span style="color:#f92672">||</span>
          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">j</span>].<span style="color:#a6e22e">contains</span>(<span style="color:#a6e22e">focusedTarget</span>)) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setFocusPointer</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span>);
        <span style="color:#66d9ef">return</span>;
      }
    }
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Triggered on click. Finds the cell that was clicked on and focuses on it.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param event
</span><span style="color:#75715e"> *  Keydown event
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">focusClickedCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">clickedGridCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">findClosest</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>, <span style="color:#e6db74">&#39;[tabindex]&#39;</span>);

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">row</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">row</span><span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">col</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">col</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>].<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">col</span><span style="color:#f92672">++</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>] <span style="color:#f92672">===</span> <span style="color:#a6e22e">clickedGridCell</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setFocusPointer</span>(<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>);

        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#a6e22e">clickedGridCell</span>, <span style="color:#e6db74">&#39;button[aria-haspopup]&#39;</span>)) {
          <span style="color:#75715e">// Don&#39;t focus if it&#39;s a menu button (focus should be set to menu)
</span><span style="color:#75715e"></span>          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusCell</span>(<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>);
        }

        <span style="color:#66d9ef">return</span>;
      }
    }
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Triggered on click. Checks if user clicked on a header with aria-sort.
</span><span style="color:#75715e"> *  If so, it sorts the column based on the aria-sort attribute.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param event
</span><span style="color:#75715e"> *  Keydown event
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">delegateButtonHandler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">which</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">keyCode</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">target</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">isClickEvent</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">type</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;click&#39;</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">target</span>) {
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">if</span> (
    <span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">parentNode</span> <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">parentNode</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#e6db74">&#39;th[aria-sort]&#39;</span>) <span style="color:#f92672">&amp;&amp;</span>
    (
      <span style="color:#a6e22e">isClickEvent</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">SPACE</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">RETURN</span>
    )
  ) {
    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">handleSort</span>(<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">parentNode</span>);
  }

  <span style="color:#66d9ef">if</span> (
    <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#a6e22e">target</span>, <span style="color:#e6db74">&#39;.editable-text, .edit-text-button&#39;</span>) <span style="color:#f92672">&amp;&amp;</span>
    (
      <span style="color:#a6e22e">isClickEvent</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">RETURN</span>
    )
  ) {
    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">toggleEditMode</span>(
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">findClosest</span>(<span style="color:#a6e22e">target</span>, <span style="color:#e6db74">&#39;.editable-text&#39;</span>),
      <span style="color:#66d9ef">true</span>,
      <span style="color:#66d9ef">true</span>
    );
  }

  <span style="color:#66d9ef">if</span> (
    <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#a6e22e">target</span>, <span style="color:#e6db74">&#39;.edit-text-input&#39;</span>) <span style="color:#f92672">&amp;&amp;</span>
    (
      <span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">RETURN</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">ESC</span>
    )
  ) {
    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">toggleEditMode</span>(
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">findClosest</span>(<span style="color:#a6e22e">target</span>, <span style="color:#e6db74">&#39;.editable-text&#39;</span>),
      <span style="color:#66d9ef">false</span>,
      <span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">RETURN</span>
    );
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Toggles the mode of an editable cell between displaying the edit button
</span><span style="color:#75715e"> *  and displaying the editable input.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param editCell
</span><span style="color:#75715e"> *  Cell to toggle
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param toggleOn
</span><span style="color:#75715e"> *  Whether to show or hide edit input
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param updateText
</span><span style="color:#75715e"> *  Whether or not to update the button text with the input text
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toggleEditMode</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">editCell</span>, <span style="color:#a6e22e">toggleOn</span>, <span style="color:#a6e22e">updateText</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">onClassName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">toggleOn</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;edit-text-input&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;edit-text-button&#39;</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">offClassName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">toggleOn</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;edit-text-button&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;edit-text-input&#39;</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">onNode</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">editCell</span>.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">onClassName</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">offNode</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">editCell</span>.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;.&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">offClassName</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">toggleOn</span>) {
    <span style="color:#a6e22e">onNode</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">offNode</span>.<span style="color:#a6e22e">innerText</span>;
  }
  <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">updateText</span>) {
    <span style="color:#a6e22e">onNode</span>.<span style="color:#a6e22e">innerText</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">offNode</span>.<span style="color:#a6e22e">value</span>;
  }

  <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">addClass</span>(<span style="color:#a6e22e">offNode</span>, <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);
  <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">removeClass</span>(<span style="color:#a6e22e">onNode</span>, <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);
  <span style="color:#a6e22e">offNode</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;tabindex&#39;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
  <span style="color:#a6e22e">onNode</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;tabindex&#39;</span>, <span style="color:#ae81ff">0</span>);
  <span style="color:#a6e22e">onNode</span>.<span style="color:#a6e22e">focus</span>();
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>][<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">onNode</span>;
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">navigationDisabled</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">toggleOn</span>;
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Sorts the column below the header node, based on the aria-sort attribute.
</span><span style="color:#75715e"> *  aria-sort=&#34;none&#34; =&gt; aria-sort=&#34;ascending&#34;
</span><span style="color:#75715e"> *  aria-sort=&#34;ascending&#34; =&gt; aria-sort=&#34;descending&#34;
</span><span style="color:#75715e"> *  All other headers with aria-sort are reset to &#34;none&#34;
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> *  Note: This implementation assumes that there is no pagination on the grid.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param headerNode
</span><span style="color:#75715e"> *  Header DOM node
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">handleSort</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">headerNode</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">columnIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">headerNode</span>.<span style="color:#a6e22e">cellIndex</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sortType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">headerNode</span>.<span style="color:#a6e22e">getAttribute</span>(<span style="color:#e6db74">&#39;aria-sort&#39;</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">sortType</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">SortType</span>.<span style="color:#a6e22e">ASCENDING</span>) {
    <span style="color:#a6e22e">sortType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">SortType</span>.<span style="color:#a6e22e">DESCENDING</span>;
  }
  <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">sortType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">SortType</span>.<span style="color:#a6e22e">ASCENDING</span>;
  }

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">comparator</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row1</span>, <span style="color:#a6e22e">row2</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row1Text</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">row1</span>.<span style="color:#a6e22e">children</span>[<span style="color:#a6e22e">columnIndex</span>].<span style="color:#a6e22e">innerText</span>;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row2Text</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">row2</span>.<span style="color:#a6e22e">children</span>[<span style="color:#a6e22e">columnIndex</span>].<span style="color:#a6e22e">innerText</span>;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row1Value</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">row1Text</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/[^0-9\.]+/g</span>, <span style="color:#e6db74">&#39;&#39;</span>));
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row2Value</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">row2Text</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/[^0-9\.]+/g</span>, <span style="color:#e6db74">&#39;&#39;</span>));

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">sortType</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">SortType</span>.<span style="color:#a6e22e">ASCENDING</span>) {
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">row1Value</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">row2Value</span>;
    }
    <span style="color:#66d9ef">else</span> {
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">row2Value</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">row1Value</span>;
    }
  };

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sortRows</span>(<span style="color:#a6e22e">comparator</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setupFocusGrid</span>();

  Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">forEach</span>.<span style="color:#a6e22e">call</span>(
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">SORT_HEADER</span>),
    <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">headerCell</span>) {
      <span style="color:#a6e22e">headerCell</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;aria-sort&#39;</span>, <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">SortType</span>.<span style="color:#a6e22e">NONE</span>);
    }
  );

  <span style="color:#a6e22e">headerNode</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;aria-sort&#39;</span>, <span style="color:#a6e22e">sortType</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Sorts the grid&#39;s rows according to the specified compareFn
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param compareFn
</span><span style="color:#75715e"> *  Comparison function to sort the rows
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">sortRows</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">compareFn</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rows</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">ROW</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rowWrapper</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">rows</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">parentNode</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">dataRows</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">slice</span>.<span style="color:#a6e22e">call</span>(<span style="color:#a6e22e">rows</span>, <span style="color:#ae81ff">1</span>);

  <span style="color:#a6e22e">dataRows</span>.<span style="color:#a6e22e">sort</span>(<span style="color:#a6e22e">compareFn</span>);

  <span style="color:#a6e22e">dataRows</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">row</span>) {
    <span style="color:#a6e22e">rowWrapper</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">row</span>);
  }).<span style="color:#a6e22e">bind</span>(<span style="color:#66d9ef">this</span>));
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Adds aria-rowindex and aria-colindex to the cells in the grid
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">setupIndices</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rows</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">ROW</span>);

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">row</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">rows</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">row</span><span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cols</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">rows</span>[<span style="color:#a6e22e">row</span>].<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">CELL</span>);
    <span style="color:#a6e22e">rows</span>[<span style="color:#a6e22e">row</span>].<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;aria-rowindex&#39;</span>, <span style="color:#a6e22e">row</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);

    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">col</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">col</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">cols</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">col</span><span style="color:#f92672">++</span>) {
      <span style="color:#a6e22e">cols</span>[<span style="color:#a6e22e">col</span>].<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;aria-colindex&#39;</span>, <span style="color:#a6e22e">col</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
    }

  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Determines the per page attribute of the grid, and shows/hides rows
</span><span style="color:#75715e"> *  accordingly.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">setupPagination</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onPaginationChange</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onPaginationChange</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">function</span> () {};
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">getAttribute</span>(<span style="color:#e6db74">&#39;data-per-page&#39;</span>));
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showFromRow</span>(<span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">true</span>);
};

<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">setPaginationChangeHandler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">onPaginationChange</span>) {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onPaginationChange</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">onPaginationChange</span>;
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Check if page up or page down was pressed, and show the next page if so.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param event
</span><span style="color:#75715e"> *  Keydown event
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">checkPageChange</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">event</span>) {
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">which</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">keyCode</span>;

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">PAGE_UP</span>) {
    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">movePageUp</span>();
  }
  <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">KeyCode</span>.<span style="color:#a6e22e">PAGE_DOWN</span>) {
    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">movePageDown</span>();
  }
};

<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">movePageUp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">topIndex</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showFromRow</span>(<span style="color:#a6e22e">startIndex</span>, <span style="color:#66d9ef">false</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusCell</span>(<span style="color:#a6e22e">startIndex</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>);
};

<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">movePageDown</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">topIndex</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span>;
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">showFromRow</span>(<span style="color:#a6e22e">startIndex</span>, <span style="color:#66d9ef">true</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusCell</span>(<span style="color:#a6e22e">startIndex</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Scroll the specified row into view in the specified direction
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param startIndex
</span><span style="color:#75715e"> *  Row index to use as the start index
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param scrollDown
</span><span style="color:#75715e"> *  Whether to scroll the new page above or below the row index
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">showFromRow</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">startIndex</span>, <span style="color:#a6e22e">scrollDown</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">dataRows</span> <span style="color:#f92672">=</span>
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">SCROLL_ROW</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">reachedTop</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">firstIndex</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">endIndex</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">dataRows</span>.<span style="color:#a6e22e">length</span>) {
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">dataRows</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {

    <span style="color:#66d9ef">if</span> (
      (
        <span style="color:#a6e22e">scrollDown</span> <span style="color:#f92672">&amp;&amp;</span>
        <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">&amp;&amp;</span>
        <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span>) <span style="color:#f92672">||</span>
        (
          <span style="color:#f92672">!</span><span style="color:#a6e22e">scrollDown</span> <span style="color:#f92672">&amp;&amp;</span>
          <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">&amp;&amp;</span>
          <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">startIndex</span> <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">perPage</span>
        )
    ) {
      <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">removeClass</span>(<span style="color:#a6e22e">dataRows</span>[<span style="color:#a6e22e">i</span>], <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);

      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">reachedTop</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">topIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">i</span>;
        <span style="color:#a6e22e">reachedTop</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
      }

      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">firstIndex</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#a6e22e">firstIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">i</span>;
      }
      <span style="color:#a6e22e">endIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">i</span>;
    }
    <span style="color:#66d9ef">else</span> {
      <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">addClass</span>(<span style="color:#a6e22e">dataRows</span>[<span style="color:#a6e22e">i</span>], <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);
    }
  }
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onPaginationChange</span>(<span style="color:#a6e22e">firstIndex</span>, <span style="color:#a6e22e">endIndex</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Throttle restructuring to only happen every 300ms
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">checkRestructureGrid</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waitingToRestructure</span>) {
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waitingToRestructure</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;

  <span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">restructureGrid</span>, <span style="color:#ae81ff">300</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Restructure grid based on the size.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">restructureGrid</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waitingToRestructure</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">gridWidth</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">offsetWidth</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cells</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">CELL</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">currentWidth</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">focusedElement</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelector</span>(<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">GridSelector</span>.<span style="color:#a6e22e">TABBABLE</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">shouldRefocus</span> <span style="color:#f92672">=</span> (document.<span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">focusedElement</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">focusedIndex</span> <span style="color:#f92672">=</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>);

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">newRow</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;div&#39;</span>);
  <span style="color:#a6e22e">newRow</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;role&#39;</span>, <span style="color:#e6db74">&#39;row&#39;</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">append</span>(<span style="color:#a6e22e">newRow</span>);

  <span style="color:#a6e22e">cells</span>.<span style="color:#a6e22e">forEach</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">cell</span>, <span style="color:#a6e22e">index</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cellWidth</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cell</span>.<span style="color:#a6e22e">offsetWidth</span>;

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currentWidth</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">currentWidth</span> <span style="color:#f92672">&gt;=</span> (<span style="color:#a6e22e">gridWidth</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">cellWidth</span>)) {
      <span style="color:#a6e22e">newRow</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;div&#39;</span>);
      <span style="color:#a6e22e">newRow</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;role&#39;</span>, <span style="color:#e6db74">&#39;row&#39;</span>);
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">append</span>(<span style="color:#a6e22e">newRow</span>);
      <span style="color:#a6e22e">currentWidth</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }

    <span style="color:#a6e22e">newRow</span>.<span style="color:#a6e22e">append</span>(<span style="color:#a6e22e">cell</span>);
    <span style="color:#a6e22e">currentWidth</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">cellWidth</span>;
  });

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setupFocusGrid</span>();

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">focusedIndex</span> <span style="color:#f92672">/</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">length</span>);
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">focusedIndex</span> <span style="color:#f92672">%</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">length</span>;

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">shouldRefocus</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusCell</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>);
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Get next cell to the right or left (direction) of the focused
</span><span style="color:#75715e"> *  cell.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param currRow
</span><span style="color:#75715e"> *  Row index to start searching from
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param currCol
</span><span style="color:#75715e"> *  Column index to start searching from
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param directionX
</span><span style="color:#75715e"> *  X direction for where to check for cells. +1 to check to the right, -1 to
</span><span style="color:#75715e"> *  check to the left
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @return
</span><span style="color:#75715e"> *  Indices of the next cell in the specified direction. Returns the focused
</span><span style="color:#75715e"> *  cell if none are found.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">getNextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (
  <span style="color:#a6e22e">currRow</span>,
  <span style="color:#a6e22e">currCol</span>,
  <span style="color:#a6e22e">directionX</span>,
  <span style="color:#a6e22e">directionY</span>
) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">row</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">currRow</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">directionY</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">col</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">currCol</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">directionX</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rowCount</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">isLeftRight</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">directionX</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">rowCount</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">colCount</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">length</span>;

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldWrapCols</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">isLeftRight</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">col</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
      <span style="color:#a6e22e">col</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">colCount</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
      <span style="color:#a6e22e">row</span><span style="color:#f92672">--</span>;
    }

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">col</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">colCount</span>) {
      <span style="color:#a6e22e">col</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
      <span style="color:#a6e22e">row</span><span style="color:#f92672">++</span>;
    }
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">shouldWrapRows</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">isLeftRight</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">row</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
      <span style="color:#a6e22e">col</span><span style="color:#f92672">--</span>;
      <span style="color:#a6e22e">row</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">rowCount</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
      <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>] <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">col</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>]) {
        <span style="color:#75715e">// Sometimes the bottom row is not completely filled in. In this case,
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// jump to the next filled in cell.
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">row</span><span style="color:#f92672">--</span>;
      }
    }
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">row</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">rowCount</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">row</span>][<span style="color:#a6e22e">col</span>]) {
      <span style="color:#a6e22e">row</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
      <span style="color:#a6e22e">col</span><span style="color:#f92672">++</span>;
    }
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isValidCell</span>(<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">col</span>)) {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">row</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">row</span>,
      <span style="color:#a6e22e">col</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">col</span>
    };
  }
  <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isValidCell</span>(<span style="color:#a6e22e">currRow</span>, <span style="color:#a6e22e">currCol</span>)) {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">row</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currRow</span>,
      <span style="color:#a6e22e">col</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currCol</span>
    };
  }
  <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Get next visible column to the right or left (direction) of the focused
</span><span style="color:#75715e"> *  cell.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param direction
</span><span style="color:#75715e"> *  Direction for where to check for cells. +1 to check to the right, -1 to
</span><span style="color:#75715e"> *  check to the left
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @return
</span><span style="color:#75715e"> *  Indices of the next visible cell in the specified direction. If no visible
</span><span style="color:#75715e"> *  cells are found, returns false if the current cell is hidden and returns
</span><span style="color:#75715e"> *  the current cell if it is not hidden.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">getNextVisibleCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">directionX</span>, <span style="color:#a6e22e">directionY</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextCell</span>(
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedRow</span>,
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span>,
    <span style="color:#a6e22e">directionX</span>,
    <span style="color:#a6e22e">directionY</span>
  );

  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">nextCell</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rowCount</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>.<span style="color:#a6e22e">length</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">colCount</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">grid</span>[<span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>].<span style="color:#a6e22e">length</span>;

  <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isHidden</span>(<span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>)) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">currRow</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">currCol</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>;

    <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextCell</span>(<span style="color:#a6e22e">currRow</span>, <span style="color:#a6e22e">currCol</span>, <span style="color:#a6e22e">directionX</span>, <span style="color:#a6e22e">directionY</span>);

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currRow</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">currCol</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>) {
      <span style="color:#75715e">// There are no more cells to try if getNextCell returns the current cell
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
    }
  }

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">nextCell</span>;
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Show or hide the cells in the specified column
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param columnIndex
</span><span style="color:#75715e"> *  Index of the column to toggle
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param isShown
</span><span style="color:#75715e"> *  Whether or not to show the column
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toggleColumn</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">columnIndex</span>, <span style="color:#a6e22e">isShown</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">cellSelector</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[aria-colindex=&#34;&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">columnIndex</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#34;]&#39;</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">columnCells</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gridNode</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#a6e22e">cellSelector</span>);

  Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">forEach</span>.<span style="color:#a6e22e">call</span>(
    <span style="color:#a6e22e">columnCells</span>,
    <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">cell</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isShown</span>) {
        <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">removeClass</span>(<span style="color:#a6e22e">cell</span>, <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);
      }
      <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">addClass</span>(<span style="color:#a6e22e">cell</span>, <span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">CSSClass</span>.<span style="color:#a6e22e">HIDDEN</span>);
      }
    }
  );

  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isShown</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">focusedCol</span> <span style="color:#f92672">===</span> (<span style="color:#a6e22e">columnIndex</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)) {
    <span style="color:#75715e">// If focus was set on the hidden column, shift focus to the right
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">nextCell</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getNextVisibleCell</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">nextCell</span>) {
      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setFocusPointer</span>(<span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">row</span>, <span style="color:#a6e22e">nextCell</span>.<span style="color:#a6e22e">col</span>);
    }
  }
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @desc
</span><span style="color:#75715e"> *  Find the closest element matching the selector. Only checks parent and
</span><span style="color:#75715e"> *  direct children.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param element
</span><span style="color:#75715e"> *  Element to start searching from
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param selector
</span><span style="color:#75715e"> *  Index of the column to toggle
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Grid</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">findClosest</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">element</span>, <span style="color:#a6e22e">selector</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#a6e22e">element</span>, <span style="color:#a6e22e">selector</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">element</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">aria</span>.<span style="color:#a6e22e">Utils</span>.<span style="color:#a6e22e">matches</span>(<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">parentNode</span>, <span style="color:#a6e22e">selector</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">parentNode</span>;
  }

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">querySelector</span>(<span style="color:#a6e22e">selector</span>);
};
</code></pre></div>


  </div>
</div>
</p>

  </main>

          <footer role="contentinfo">
            <div>
              <label for="themer">
                dark theme: <input type="checkbox" id="themer" class="vh">
                <span aria-hidden="true"></span>
              </label>
            </div>
            Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/ThePacielloGroup/cupper">Cupper</a>. Deployed to GitHub Pages by <a href="https://github.com/kerseyi">Ian</a>.
          </footer>
        </div>
      </div>
    </div>
    <script src="https://kerseyi.github.io/cupper-2/js/jquery.slim.min.js"></script>
    
    <script src="https://kerseyi.github.io/cupper-2/js/prism.js"></script>
    <script src="https://kerseyi.github.io/cupper-2/js/dom-scripts.js"></script>
    
  </body>
</html>
